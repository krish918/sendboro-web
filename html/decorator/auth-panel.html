{% load staticfiles %} 
<div class="auth-panel-container" ng-hide="panels.hideAuthFlag" id="auth-panel" ng-class="shifterClass"
	ng-click="incrementFocus($event)">
	<div class="auth-box">
		<div class="exit-button" ng-click="panels.toggleAuthPanel() || authCtrl.changeScene(0)">
			esc
		</div>
		<div ng-show="authCtrl.isScenePresented(1)" class="scene credential-scene">
			<!-- <div class="quote">
		  		<div class="text">
		  			
		  		</div>
			  	<div class="credit">
		  			
		  		</div>
			</div> -->
			<div class="auth-desc">
				Start Here
			</div>
			<div class="description">
				Enter your <strong>phone number</strong> to use Sendboro. 
			</div>
			<form class="signon-form" ng-submit="authCtrl.validateForm() && authCtrl.sendCredential()">
				{% csrf_token %}
				<select class="country-list" ng-model="countryCode" ng-change="syncInputSelect()">
					<option value="" disabled>Choose your country</option>
					<option ng-repeat="country in authCtrl.countryList"
						value="{% verbatim %}{{country.code}}{% endverbatim %}">
							{% verbatim %} {{country.name}} {% endverbatim %}
					</option>		
				</select>
				<input class="dialcode-list inline-middle" ng-model="dialCode" placeholder="+1" ng-change="syncInputText()"> 
				<input class="phone-num inline-middle" ng-model="phone" placeholder="Phone Number" 
					ng-change="hideErrors()" boro-focus="focus" tabindex="0">
				
				<button type="submit" ng-class="disableClass"><i class="fa fa-chevron-circle-right"></i></button>
				
				<div class="error-disp" ng-show="authCtrl.isErrorCode(1)">
					Phone number is missing.
				</div>
				<div class="error-disp" ng-show="authCtrl.isErrorCode(2)">
					Phone number is invalid. 
				</div>
				<div class="error-disp" ng-show="authCtrl.isErrorCode(3)">
					Please choose an appropriate country.
				</div>
				<div class="error-disp" ng-show="authCtrl.isErrorCode(4)">
					Username is invalid.
				</div>
				<div class="error-disp" ng-show="authCtrl.isErrorCode(5)">
					Username does not exist. Please verify.
				</div>
				<div class="error-disp" ng-show="authCtrl.isErrorCode(-1)">
					Ahhh! Service is unavailable. Please try later.
				</div>
				<div class="auth-loader" ng-show="authCtrl.isProcessing()">
					<img src="{% static 'resource/loader/loader.GIF' %}">
				</div>
			</form>
		</div>
			
		<div ng-show="authCtrl.isScenePresented(2)" class="scene code-verify-scene" tabindex="1" 
			boro-focus="focus" ng-keydown="fillCodeInput($event)">
			<div class="quote">
				<div class="text">
		  			Now tell me. Am I a machine? Am I a human?
		  		</div>
			  	<div class="credit">
		  			Alan Turing, The Imitation Game(2014)
		  		</div>
			</div>
			<div class="description">
				We sent a 5-digit code on <br />
				<strong>{% verbatim %} {{codeTarget}} {% endverbatim %}</strong>
				<br />
				Please start typing the code.
				<form class="code-verify-form">
					<input class="code-quantum-inpt" disabled ng-model="code[0]">
					<input class="code-quantum-inpt" disabled ng-model="code[1]">
					<input class="code-quantum-inpt" disabled ng-model="code[2]">
					<input class="code-quantum-inpt" disabled ng-model="code[3]">
					<input class="code-quantum-inpt" disabled ng-model="code[4]">
					<button ng-click="authCtrl.changeScene(1)" ng-hide="authCtrl.isProcessing()">
						<i class="fa fa-chevron-circle-left"></i>
					</button>
				</form>
				<div class="resend-code" ng-hide="authCtrl.isProcessing()">
					Didn't receive code? 
					<div ng-show="resendTimer>0" class="inline-middle resendtext">
						Wait for 
						<div class="inline-middle timer">
							{% verbatim %} {{resendTimer}} {% endverbatim %}
						</div>
				 		seconds to 
				 	</div>
				 	<div class="inline-middle resend-button" ng-class="resendClass" ng-click="authCtrl.resendCode()">resend</div>
				</div>
				<div class="error-disp" ng-show="authCtrl.isErrorCode(-1)">
					Oops! Something was broken. Please try later.
				</div>
				<div class="error-disp" ng-show="authCtrl.isErrorCode(-2)">
					The code was invalid.
				</div>
				<div class="auth-loader" ng-show="authCtrl.isProcessing()">
					<img src="{% static 'resource/loader/loader.GIF' %}">
				</div>	
			</div>
		</div>
	</div>
	<div class="extra-description" ng-show="authCtrl.isScenePresented(1)">
			A new account will be created if you don't have one, else 
			you will be logged in to your existing account.
	</div>
</div>	